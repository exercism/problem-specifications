{
  "exercise": "bank-account",
  "comments": [
    "For this exercise it is possible to implement concurrency tests",
    "but for language tracks that do not support concurrency, the tests",
    "are written to be run in a single thread.",
    "But for language tracks that do support concurrency, it is possible",
    "to write tests that run concurrently."
  ],
  "cases": [
    {
      "uuid": "983a1528-4ceb-45e5-8257-8ce01aceb5ed",
      "description": "Newly opened account has zero balance",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "amount",
            "expected": 0
          }
        ]
      },
      "expected": {}
    },
    {
      "uuid": "e88d4ec3-c6bf-4752-8e59-5046c44e3ba7",
      "description": "Can deposit money",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 100
          },
          {
            "operation": "amount",
            "expected": 100
          }
        ]
      },
      "expected": {}
    },
    {
      "uuid": "3d9147d4-63f4-4844-8d2b-1fee2e9a2a0d",
      "description": "Can deposit money sequentially",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 100
          },
          {
            "operation": "deposit",
            "value": 50
          },
          {
            "operation": "amount",
            "expected": 150
          }
        ]
      },
      "expected": {}
    },
    {
      "uuid": "08f1af07-27ae-4b38-aa19-770bde558064",
      "description": "Can withdraw money",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 100
          },
          {
            "operation": "withdraw",
            "value": 50
          },
          {
            "operation": "amount",
            "expected": 50
          }
        ]
      },
      "expected": {}
    },
    {
      "uuid": "6f6d242f-8c31-4ac6-8995-a90d42cad59f",
      "description": "Can withdraw money sequentially",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 100
          },
          {
            "operation": "withdraw",
            "value": 80
          },
          {
            "operation": "withdraw",
            "value": 20
          },
          {
            "operation": "amount",
            "expected": 0
          }
        ]
      },
      "expected": {}
    },
    {
      "uuid": "f9facfaa-d824-486e-8381-48832c4bbffd",
      "description": "Checking balance of closed account throws error",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "close"
          },
          {
            "operation": "amount"
          }
        ]
      },
      "expected": { "error": "account not open" }
    },
    {
      "uuid": "7a65ba52-e35c-4fd2-8159-bda2bde6e59c",
      "description": "Deposit into closed account",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "close"
          },
          {
            "operation": "deposit",
            "value": 50
          }
        ]
      },
      "expected": { "error": "account not open" }
    },
    {
      "uuid": "570dfaa5-0532-4c1f-a7d3-0f65c3265608",
      "description": "Withdraw from closed account",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "close"
          },
          {
            "operation": "withdraw",
            "value": 50
          }
        ]
      },
      "expected": { "error": "account not open" }
    },
    {
      "uuid": "c396d233-1c49-4272-98dc-7f502dbb9470",
      "description": "Close already closed account",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "close"
          }
        ]
      },
      "expected": { "error": "account not open" }
    },
    {
      "uuid": "c06f534f-bdc2-4a02-a388-1063400684de",
      "description": "Open already opened account",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "open"
          }
        ]
      },
      "expected": { "error": "account already open" }
    },
    {
      "uuid": "0722d404-6116-4f92-ba3b-da7f88f1669c",
      "description": "Reopened account does not retain balance",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 50
          },
          {
            "operation": "close"
          },
          {
            "operation": "open"
          },
          {
            "operation": "amount",
            "expected": 0
          }
        ]
      },
      "expected": {}
    },
    {
      "uuid": "ec42245f-9361-4341-8231-a22e8d19c52f",
      "description": "Cannot withdraw more than deposited",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 25
          },
          {
            "operation": "withdraw",
            "value": 50
          }
        ]
      },
      "expected": { "error": "amount must be less than balance" }
    },
    {
      "uuid": "4f381ef8-10ef-4507-8e1d-0631ecc8ee72",
      "description": "Cannot withdraw negative",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": 100
          },
          {
            "operation": "withdraw",
            "value": -50
          }
        ]
      },
      "expected": { "error": "amount must be greater than 0" }
    },
    {
      "uuid": "d45df9ea-1db0-47f3-b18c-d365db49d938",
      "description": "Cannot deposit negative",
      "property": "bankAccount",
      "input": {
        "operations": [
          {
            "operation": "open"
          },
          {
            "operation": "deposit",
            "value": -50
          }
        ]
      },
      "expected": { "error": "amount must be greater than 0" }
    }
  ]
}
